<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSSalary14/09/2021</title>
</head>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" 
integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" 
integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" 
crossorigin="anonymous"></script>
<style>
    .container{
    margin-top: 30px;
    }
</style>

<body>

        <div class="container">
            <div class="row">
                <div class="col-4">
                   <div class="row mt-4">
                    <button type="button" onclick="add()" class="btn btn-secondary">Add Employee</button>
                   </div>
                   <div class="row mt-4">
                    <button type="button" onclick="double()"class="btn btn-secondary">Double Salary</button>
                   </div>

                   <div class="row mt-4">
                    <button type="button" onclick="showGrat()"class="btn btn-secondary">Show Salary>50000</button>
                   </div>
                   <div class="row mt-4">
                    <button type="button"onclick="descending()" class="btn btn-secondary">Sort Desending</button>
                   </div>
                   <div class="row mt-4">
                    <button type="button" onclick="allSalary()"class="btn btn-secondary">Calculate Salary All</button>
                   </div>                   
                   </div>
                <div class="col-5">
                    <table id="table"class="table table-dark table-hover">
                        <thead>
                            
                            <tr>
                                <th>Employee</th>
                                <th id="update">Salary</th>
                            </tr>
                        </thead>
                        
                    </table>
                    
                </div>
            </div>

           

        <script>
                var emp=[
                    {Name:"Mahesh", Salary:50000},
                    {Name:"Nitin", Salary:57000},
                    {Name:"Madhu", Salary:40000},
                    {Name:"Pavan", Salary:38000},
                    {Name:"Amol", Salary:47000},
                   {Name:"Sahil", Salary:25000},
                    {Name:"Soham", Salary:85000},
                    {Name:"Milind", Salary:70000}
                ];
                   var total=0,count=0;
                   var display= document.getElementById("table");

                //    new_tr=document.createDocumentFragment("tr");
                        var newArr=[];
                    function add(){
                        var al=emp.length;
                        var rand=Math.floor(Math.random()*al);

                    new_body=document.createElement("tbody");
                    new_tr=document.createElement("tr");
                    new_td1=document.createElement("td");
                    new_td1.textContent=emp[rand].Name;

                   new_tr.appendChild(new_td1);
                   new_td2=document.createElement("td");
                   new_td2.textContent=emp[rand].Salary;
                    new_td2.setAttribute("id",count);
                   new_tr.appendChild(new_td2);
                   new_body.appendChild(new_tr);
                   display.appendChild(new_body);
                   count++;
                   
                   newArr.push(emp[rand]);

                   // console.log(newArr);

                    }

                    function double(){
                        
                        for(let i=0;i<display.rows.length;i++){
                            if(document.getElementById(`${i}`)){
                            var d=document.getElementById(`${i}`);
                            d.innerHTML=d.textContent*2;
                        }
                    }

                        
                    }
                    function descending(){

                        for(let i=0;i<newArr.length;i++){
                            var sort_emp=newArr.sort((a,b)=>{
                                return b.Salary-a.Salary;
                            });
                        }
                        console.log(sort_emp);

                        for(let i=0;i<sort_emp.length-1;i++){
                            var random=Math.floor(Math.random()*sort_emp.length-1);
                            new_td1.textContent=sort_emp[random].Name;
                            new_td2.textContent=sort_emp[random].Salary;
                            new_tr.appendChild(new_td1);
                            new_tr.appendChild(new_td2);
                            new_body.appendChild(new_tr);
                            display.appendChild(new_body);
                            
                        }
                    }


                        var num;
                        
                    function allSalary(){
                            for(var i=0;i<=display.rows.length;i++){
                               // console.log(i,'value of i');
                               if(document.getElementById(`${i}`)){

                                var d=document.getElementById(`${i}`) ;

                            //console.log(d.innerHTML,'Inner');
                             num=Number(d.innerHTML);
                            total+=num;
                           // console.log(total,"INSIDE");
                               }  
                            }
                            console.log(total,"Outside");
                            var total_tr=document.createElement("tr");
                            total_td2=document.createElement("td");
                            total_td2.textContent="Total Salary: "
                           total_tr.appendChild(total_td2);
                           var total_td=document.createElement("td");
                            total_td.textContent=total;
                            total_tr.appendChild(total_td);
                            new_body.appendChild(total_tr);
                            display.appendChild(new_body);

                    }

                    function showGrat(){

                        for(var i=0;i<newArr.length;i++){

                                if(newArr[i].Salary<50000){
                                    console.log(newArr);
                                }
                            }

                    }

                   

        </script>
</body>
</html>
